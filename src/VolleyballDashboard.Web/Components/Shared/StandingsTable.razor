<div class="overflow-x-auto">
    <table class="w-full">
        <thead>
            <tr class="text-xs uppercase tracking-wider dark:text-gray-400 text-gray-500 border-b dark:border-gray-700/50 border-gray-200">
                <th class="py-3 px-4 text-left font-medium">#</th>
                <th class="py-3 px-4 text-left font-medium">Team</th>
                <th class="py-3 px-2 text-center font-medium hidden sm:table-cell">GP</th>
                <th class="py-3 px-2 text-center font-medium">W</th>
                <th class="py-3 px-2 text-center font-medium">L</th>
                <th class="py-3 px-2 text-center font-medium hidden sm:table-cell">Sets</th>
                <th class="py-3 px-4 text-center font-medium">PTS</th>
            </tr>
        </thead>
        <tbody class="divide-y dark:divide-gray-700/30 divide-gray-100">
            @foreach (var standing in Standings)
            {
                <tr class="dark:hover:bg-white/5 hover:bg-gray-50 transition-colors">
                    <td class="py-3 px-4">
                        <div class="flex items-center justify-center w-7 h-7 rounded-lg font-mono text-sm font-semibold @GetRankStyle(standing)">
                            @standing.Rank
                        </div>
                    </td>
                    <td class="py-3 px-4">
                        <div class="flex items-center gap-2">
                            @if (!string.IsNullOrEmpty(standing.Team.LogoUrl))
                            {
                                <img src="@standing.Team.LogoUrl" alt="" class="w-6 h-6 object-contain flex-shrink-0" loading="lazy" />
                            }
                            <span class="font-medium dark:text-white text-gray-900 text-sm">@standing.Team.Name</span>
                        </div>
                    </td>
                    <td class="py-3 px-2 text-center dark:text-gray-300 text-gray-600 text-sm font-mono hidden sm:table-cell">
                        @standing.Matches
                    </td>
                    <td class="py-3 px-2 text-center text-volt-500 text-sm font-mono font-medium">
                        @standing.Wins
                    </td>
                    <td class="py-3 px-2 text-center text-red-400 text-sm font-mono font-medium">
                        @standing.Losses
                    </td>
                    <td class="py-3 px-2 text-center dark:text-gray-400 text-gray-500 text-sm font-mono hidden sm:table-cell">
                        @standing.SetsRatio
                    </td>
                    <td class="py-3 px-4 text-center">
                        <span class="inline-flex items-center justify-center min-w-[2.5rem] px-2 py-1 rounded-lg dark:bg-volt-500/10 bg-volt-50 text-volt-500 font-mono font-bold text-sm">
                            @standing.Points
                        </span>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

@if (Standings.Count == 0)
{
    <div class="py-12 text-center dark:text-gray-400 text-gray-500">
        No standings data available
    </div>
}

@code {
    [Parameter]
    public List<Standing> Standings { get; set; } = [];

    private string GetRankStyle(Standing standing)
    {
        return standing.Rank switch
        {
            1 => "bg-gradient-to-br from-yellow-400 to-yellow-600 text-white shadow-lg shadow-yellow-500/25",
            2 => "bg-gradient-to-br from-gray-300 to-gray-400 text-gray-800",
            3 => "bg-gradient-to-br from-amber-600 to-amber-700 text-white",
            <= 8 => "bg-volt-500/10 text-volt-500",
            _ => "dark:bg-gray-700/50 bg-gray-100 dark:text-gray-300 text-gray-600"
        };
    }
}
